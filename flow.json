[
    {
        "id": "a1856de285adc81c",
        "type": "tab",
        "label": "Flow 1",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "88b4181fcd4a9d1b",
        "type": "natural-language-understanding",
        "z": "a1856de285adc81c",
        "name": "",
        "categories": true,
        "limitcategories": "3",
        "classifications": false,
        "classifications-model": "8",
        "concepts": false,
        "maxconcepts": "8",
        "doc-emotion": true,
        "doc-emotion-target": "",
        "doc-sentiment": false,
        "doc-sentiment-target": "",
        "entity": false,
        "entity-emotion": false,
        "entity-sentiment": false,
        "maxentities": "50",
        "keyword": false,
        "keyword-emotion": false,
        "keyword-sentiment": false,
        "maxkeywords": "50",
        "metadata": false,
        "relation": false,
        "semantic": false,
        "semantic-entities": false,
        "semantic-keywords": false,
        "maxsemantics": "50",
        "limittextcharacters": "0",
        "syntax": false,
        "syntax-sentences": false,
        "syntax-tokens-lemma": false,
        "syntax-tokens-pos": false,
        "service-endpoint": "https://api.au-syd.natural-language-understanding.watson.cloud.ibm.com/instances/45b0a5cf-9c3f-400c-b8e2-ea5fb84dcaac",
        "x": 380,
        "y": 240,
        "wires": [
            [
                "60cd4a6a6e24b04d"
            ]
        ]
    },
    {
        "id": "60cd4a6a6e24b04d",
        "type": "debug",
        "z": "a1856de285adc81c",
        "name": "check nlu result",
        "active": true,
        "tosidebar": true,
        "console": true,
        "tostatus": false,
        "complete": "features",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 630,
        "y": 240,
        "wires": []
    },
    {
        "id": "a98ce99f0bdc684a",
        "type": "watson-translator",
        "z": "a1856de285adc81c",
        "name": "",
        "action": "translate",
        "basemodel": "ar-en",
        "domain": "general",
        "srclang": "en",
        "destlang": "zh-TW",
        "apikey": "8XjrcLsoZzhHTj6yBMILGvFXvrH4D5LgN2lX7B9Sj2r-",
        "custom": "",
        "domainhidden": "general",
        "srclanghidden": "en",
        "destlanghidden": "zh-TW",
        "basemodelhidden": "ar-en",
        "customhidden": "",
        "filetype": "forcedglossary",
        "trainid": "",
        "lgparams2": true,
        "service-endpoint": "https://api.au-syd.language-translator.watson.cloud.ibm.com/instances/faeb5936-8fb1-4a25-a8a2-413f0c21e2e9",
        "x": 330,
        "y": 300,
        "wires": [
            [
                "b172e12d3b89792c",
                "715af9512c547e42"
            ]
        ]
    },
    {
        "id": "b172e12d3b89792c",
        "type": "debug",
        "z": "a1856de285adc81c",
        "name": "check translator result",
        "active": true,
        "tosidebar": true,
        "console": true,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 650,
        "y": 300,
        "wires": []
    },
    {
        "id": "1b0f6b086ab7d201",
        "type": "inject",
        "z": "a1856de285adc81c",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "Harbour town Adelaide has large variety of branded shops with range of discounts. You can find a parking space easily. If you are coming by bus from the city you can catch the free shuttle or J1, the bus will stop inside the premises which is convenient. There are places to grab a bite and there is a big play area for kids. There are seating areas every few meters for you take a break from all the shopping. Toilets are very clean and there are baby changing rooms as well.",
        "payloadType": "str",
        "x": 110,
        "y": 120,
        "wires": [
            []
        ]
    },
    {
        "id": "905be7d6700d62c5",
        "type": "debug",
        "z": "a1856de285adc81c",
        "name": "debug 3",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "topic",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 300,
        "y": 120,
        "wires": []
    },
    {
        "id": "102ff3a8ccda3707",
        "type": "http in",
        "z": "a1856de285adc81c",
        "name": "",
        "url": "/getEmail",
        "method": "get",
        "upload": false,
        "swaggerDoc": "",
        "x": 130,
        "y": 60,
        "wires": [
            []
        ]
    },
    {
        "id": "3449f2731d0d0a75",
        "type": "inject",
        "z": "a1856de285adc81c",
        "name": "Node-red",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "Hello Node Red",
        "payloadType": "str",
        "x": 360,
        "y": 520,
        "wires": [
            [
                "1bdded09370836d8"
            ]
        ]
    },
    {
        "id": "1bdded09370836d8",
        "type": "e-mail",
        "z": "a1856de285adc81c",
        "server": "smtp.gmail.com",
        "port": "465",
        "authtype": "BASIC",
        "saslformat": true,
        "token": "oauth2Response.access_token",
        "secure": true,
        "tls": true,
        "name": "patelkushal682@gmail.com",
        "dname": "",
        "x": 780,
        "y": 560,
        "wires": []
    },
    {
        "id": "ac9d2dd9788b1881",
        "type": "function",
        "z": "a1856de285adc81c",
        "name": "convertEmailToString",
        "func": "// Get the emails\nconsole.debug(\"Emails:\" + msg);\nvar email = {\n    topic: msg.topic,\n    payload: msg.payload,\n    html: msg.html,\n    from: msg.from,\n    date: msg.date,\n    header: msg.header,\n    attachments: msg.attachments\n};\n// Convert email object to string\nmsg.payload = JSON.stringify(email);\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "// Code added here will be run once\n// whenever the node is started.\nconsole.debug(\"saveEmailToPayload starting!\");\n",
        "finalize": "// Code added here will be run when the\n// node is being stopped or re-deployed.\nconsole.debug(\"saveEmailToPayload stoped!\");\n",
        "libs": [],
        "x": 320,
        "y": 180,
        "wires": [
            [
                "6bcfb1d2fd6e9a73"
            ]
        ]
    },
    {
        "id": "7e02ddd6d130feeb",
        "type": "e-mail in",
        "z": "a1856de285adc81c",
        "name": "imap",
        "protocol": "IMAP",
        "server": "imap.gmail.com",
        "useSSL": true,
        "autotls": "never",
        "port": "993",
        "authtype": "BASIC",
        "saslformat": true,
        "token": "oauth2Response.access_token",
        "box": "INBOX",
        "disposition": "Read",
        "criteria": "ALL",
        "repeat": "300",
        "fetch": "trigger",
        "inputs": 1,
        "x": 90,
        "y": 180,
        "wires": [
            [
                "ac9d2dd9788b1881",
                "905be7d6700d62c5"
            ]
        ]
    },
    {
        "id": "715af9512c547e42",
        "type": "function",
        "z": "a1856de285adc81c",
        "name": "convertProcessedStrToJsonObj",
        "func": "msg.payload = JSON.parse(msg.payload);\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 450,
        "y": 360,
        "wires": [
            [
                "0b8e73c112909bde"
            ]
        ]
    },
    {
        "id": "0b8e73c112909bde",
        "type": "debug",
        "z": "a1856de285adc81c",
        "name": "check processed result",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 730,
        "y": 360,
        "wires": []
    },
    {
        "id": "6bcfb1d2fd6e9a73",
        "type": "function",
        "z": "a1856de285adc81c",
        "name": "countEmailNumber",
        "func": "//count email number\nvar emailCount = flow.get('emailCount') || 0;\nemailCount++;\nflow.set('emailCount', emailCount);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 510,
        "y": 80,
        "wires": [
            [
                "398fc6070840f9a0"
            ]
        ]
    },
    {
        "id": "398fc6070840f9a0",
        "type": "switch",
        "z": "a1856de285adc81c",
        "name": "isReachedEmailLimit",
        "property": "emailCount",
        "propertyType": "flow",
        "rules": [
            {
                "t": "gte",
                "v": "10",
                "vt": "str"
            },
            {
                "t": "lt",
                "v": "10",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 720,
        "y": 80,
        "wires": [
            [
                "8faf1301c8b9ae42"
            ],
            [
                "7a36e2b183311323"
            ]
        ]
    },
    {
        "id": "8faf1301c8b9ae42",
        "type": "debug",
        "z": "a1856de285adc81c",
        "name": "moreThan10",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 910,
        "y": 40,
        "wires": []
    },
    {
        "id": "7a36e2b183311323",
        "type": "debug",
        "z": "a1856de285adc81c",
        "name": "lessThan10",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 910,
        "y": 140,
        "wires": []
    }
]